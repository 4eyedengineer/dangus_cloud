@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========================================
   CSS Custom Properties - Terminal Design System
   ======================================== */
:root {
  /* Colors - Background */
  --color-bg-primary: #0a0a0a;
  --color-bg-secondary: #121212;
  --color-bg-elevated: #151515;

  /* Colors - Text */
  --color-text-primary: #33ff33;
  --color-text-secondary: #ffaa00;
  --color-text-muted: #666666;

  /* Colors - Accents */
  --color-accent-green: #33ff33;
  --color-accent-amber: #ffaa00;
  --color-accent-red: #ff3333;
  --color-accent-cyan: #00ffff;

  /* Colors - Borders */
  --color-border: #333333;
  --color-border-muted: #444444;

  /* Typography */
  --font-mono: 'JetBrains Mono', 'Fira Code', 'Source Code Pro', 'IBM Plex Mono', 'Consolas', 'Monaco', monospace;
  --font-size-base: 14px;
  --line-height-base: 1.5;
  --letter-spacing-base: 0.5px;

  /* Spacing */
  --space-unit: 8px;
  --space-xs: calc(var(--space-unit) * 0.5);
  --space-sm: var(--space-unit);
  --space-md: calc(var(--space-unit) * 2);
  --space-lg: calc(var(--space-unit) * 3);
  --space-xl: calc(var(--space-unit) * 4);

  /* Effects - Glow */
  --glow-green: 0 0 10px rgba(51, 255, 51, 0.5);
  --glow-green-lg: 0 0 20px rgba(51, 255, 51, 0.6);
  --glow-amber: 0 0 10px rgba(255, 170, 0, 0.5);
  --glow-amber-lg: 0 0 20px rgba(255, 170, 0, 0.6);
  --glow-red: 0 0 10px rgba(255, 51, 51, 0.5);
  --glow-red-lg: 0 0 20px rgba(255, 51, 51, 0.6);
  --glow-cyan: 0 0 10px rgba(0, 255, 255, 0.5);

  /* Transitions */
  --transition-fast: 100ms ease;
  --transition-base: 150ms ease;
  --transition-slow: 200ms ease;
  --transition-terminal: 150ms steps(4);
}

/* ========================================
   Base Styles
   ======================================== */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  font-size: var(--font-size-base);
  line-height: var(--line-height-base);
}

body {
  margin: 0;
  padding: 0;
  font-family: var(--font-mono);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  letter-spacing: var(--letter-spacing-base);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ========================================
   Dark Scrollbar Styling
   ======================================== */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-secondary);
  border-radius: 0;
}

::-webkit-scrollbar-thumb {
  background: var(--color-border-muted);
  border-radius: 0;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-muted);
}

::-webkit-scrollbar-corner {
  background: var(--color-bg-secondary);
}

/* Firefox scrollbar */
* {
  scrollbar-width: thin;
  scrollbar-color: var(--color-border-muted) var(--color-bg-secondary);
}

/* ========================================
   Custom Utility Classes - Glow Effects
   ======================================== */
@layer utilities {
  .glow-green {
    box-shadow: var(--glow-green);
  }

  .glow-green-lg {
    box-shadow: var(--glow-green-lg);
  }

  .glow-amber {
    box-shadow: var(--glow-amber);
  }

  .glow-amber-lg {
    box-shadow: var(--glow-amber-lg);
  }

  .glow-red {
    box-shadow: var(--glow-red);
  }

  .glow-red-lg {
    box-shadow: var(--glow-red-lg);
  }

  .glow-cyan {
    box-shadow: var(--glow-cyan);
  }

  /* Text glow effects */
  .text-glow-green {
    text-shadow: var(--glow-green);
  }

  .text-glow-amber {
    text-shadow: var(--glow-amber);
  }

  .text-glow-red {
    text-shadow: var(--glow-red);
  }

  .text-glow-cyan {
    text-shadow: var(--glow-cyan);
  }
}

/* ========================================
   Custom Utility Classes - Terminal Text
   ======================================== */
@layer utilities {
  .text-terminal-primary {
    color: var(--color-text-primary);
  }

  .text-terminal-secondary {
    color: var(--color-text-secondary);
  }

  .text-terminal-muted {
    color: var(--color-text-muted);
  }

  .text-terminal-red {
    color: var(--color-accent-red);
  }

  .text-terminal-cyan {
    color: var(--color-accent-cyan);
  }
}

/* ========================================
   Custom Utility Classes - Terminal Border
   ======================================== */
@layer utilities {
  .terminal-border {
    border: 1px solid var(--color-border);
  }

  .terminal-border-green {
    border: 1px solid var(--color-accent-green);
  }

  .terminal-border-amber {
    border: 1px solid var(--color-accent-amber);
  }

  .terminal-border-red {
    border: 1px solid var(--color-accent-red);
  }

  /* Box-drawing style borders */
  .terminal-box {
    border: 1px solid var(--color-border);
    position: relative;
  }

  .terminal-box::before {
    content: '┌';
    position: absolute;
    top: -1px;
    left: -1px;
    color: var(--color-border);
  }

  .terminal-box::after {
    content: '┐';
    position: absolute;
    top: -1px;
    right: -1px;
    color: var(--color-border);
  }
}

/* ========================================
   Custom Utility Classes - Backgrounds
   ======================================== */
@layer utilities {
  .bg-terminal-primary {
    background-color: var(--color-bg-primary);
  }

  .bg-terminal-secondary {
    background-color: var(--color-bg-secondary);
  }

  .bg-terminal-elevated {
    background-color: var(--color-bg-elevated);
  }
}

/* ========================================
   Custom Utility Classes - Transitions
   ======================================== */
@layer utilities {
  .transition-terminal {
    transition: all var(--transition-terminal);
  }

  .transition-terminal-fast {
    transition: all var(--transition-fast);
  }

  .transition-terminal-base {
    transition: all var(--transition-base);
  }

  .transition-terminal-slow {
    transition: all var(--transition-slow);
  }
}

/* ========================================
   Component Classes - Buttons
   ======================================== */
@layer components {
  .btn-terminal {
    background: transparent;
    border: 1px solid var(--color-accent-green);
    color: var(--color-accent-green);
    padding: var(--space-sm) var(--space-md);
    font-family: var(--font-mono);
    font-size: var(--font-size-base);
    text-transform: uppercase;
    letter-spacing: 1px;
    cursor: pointer;
    transition: all var(--transition-base);
  }

  .btn-terminal:hover {
    background: var(--color-accent-green);
    color: var(--color-bg-primary);
    box-shadow: var(--glow-green);
  }

  .btn-terminal-amber {
    border-color: var(--color-accent-amber);
    color: var(--color-accent-amber);
  }

  .btn-terminal-amber:hover {
    background: var(--color-accent-amber);
    color: var(--color-bg-primary);
    box-shadow: var(--glow-amber);
  }

  .btn-terminal-red {
    border-color: var(--color-accent-red);
    color: var(--color-accent-red);
  }

  .btn-terminal-red:hover {
    background: var(--color-accent-red);
    color: var(--color-bg-primary);
    box-shadow: var(--glow-red);
  }
}

/* ========================================
   Component Classes - Inputs
   ======================================== */
@layer components {
  .input-terminal {
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    color: var(--color-text-primary);
    padding: var(--space-sm) var(--space-md);
    font-family: var(--font-mono);
    font-size: var(--font-size-base);
    transition: all var(--transition-base);
  }

  .input-terminal::placeholder {
    color: var(--color-text-muted);
  }

  .input-terminal:focus {
    outline: none;
    border-color: var(--color-accent-green);
    box-shadow: var(--glow-green);
  }
}

/* ========================================
   Component Classes - Links
   ======================================== */
@layer components {
  .link-terminal {
    color: var(--color-accent-amber);
    text-decoration: none;
    transition: all var(--transition-base);
  }

  .link-terminal:hover {
    text-decoration: underline;
    text-shadow: var(--glow-amber);
  }

  /* Bracketed link style */
  .link-terminal-bracketed::before {
    content: '[ ';
  }

  .link-terminal-bracketed::after {
    content: ' ]';
  }
}

/* ========================================
   Reduced Motion Support
   ======================================== */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .glow-green,
  .glow-green-lg,
  .glow-amber,
  .glow-amber-lg,
  .glow-red,
  .glow-red-lg,
  .glow-cyan {
    box-shadow: none;
  }

  .text-glow-green,
  .text-glow-amber,
  .text-glow-red,
  .text-glow-cyan {
    text-shadow: none;
  }
}

/* ========================================
   ASCII Art / Box Drawing Helpers
   ======================================== */
@layer utilities {
  .font-box-drawing {
    font-family: var(--font-mono);
    line-height: 1;
    white-space: pre;
  }
}

/* ========================================
   Terminal Grid Background Pattern
   ======================================== */
@layer utilities {
  .terminal-grid-bg {
    background-image:
      linear-gradient(rgba(51, 255, 51, 0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(51, 255, 51, 0.03) 1px, transparent 1px);
    background-size: 20px 20px;
    background-position: -1px -1px;
  }

  .terminal-grid-bg-subtle {
    background-image:
      linear-gradient(rgba(51, 255, 51, 0.015) 1px, transparent 1px),
      linear-gradient(90deg, rgba(51, 255, 51, 0.015) 1px, transparent 1px);
    background-size: 16px 16px;
    background-position: -1px -1px;
  }

  .terminal-grid-bg-dense {
    background-image:
      linear-gradient(rgba(51, 255, 51, 0.04) 1px, transparent 1px),
      linear-gradient(90deg, rgba(51, 255, 51, 0.04) 1px, transparent 1px);
    background-size: 8px 8px;
    background-position: -1px -1px;
  }
}

/* ========================================
   Terminal Animations
   ======================================== */
@keyframes cursor-blink {
  0%, 49% {
    opacity: 1;
  }
  50%, 100% {
    opacity: 0;
  }
}

@keyframes spinner-rotate {
  0% { content: '|'; }
  25% { content: '/'; }
  50% { content: '-'; }
  75% { content: '\\'; }
  100% { content: '|'; }
}

@keyframes scanline {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100vh);
  }
}

@layer utilities {
  .animate-cursor-blink {
    animation: cursor-blink 1060ms steps(1) infinite;
  }

  .animate-spinner {
    animation: spinner-rotate 400ms steps(4) infinite;
  }

  /* Scanline effect - enable with data-scanlines="true" on parent */
  .scanlines {
    position: relative;
    overflow: hidden;
  }

  .scanlines::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(
      to bottom,
      transparent 0%,
      rgba(51, 255, 51, 0.03) 50%,
      transparent 100%
    );
    animation: scanline 8s linear infinite;
    pointer-events: none;
    z-index: 1000;
  }
}

/* Reduced motion - disable animations */
@media (prefers-reduced-motion: reduce) {
  .animate-cursor-blink,
  .animate-spinner {
    animation: none;
  }

  .scanlines::after {
    animation: none;
    display: none;
  }
}
